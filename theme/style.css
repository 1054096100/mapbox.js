/* general typography */
.leaflet-container {
  background:#fff;
  font:15px/25px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  color:rgba(0,0,0,0.75);
  outline:0;
  overflow:hidden;
  -ms-touch-action:none;
  }
.leaflet-container *,
.leaflet-container *:after,
.leaflet-container *:before {
  -webkit-box-sizing:border-box;
     -moz-box-sizing:border-box;
          box-sizing:border-box;
  }

.leaflet-container h1,
.leaflet-container h2,
.leaflet-container h3,
.leaflet-container h4,
.leaflet-container h5,
.leaflet-container h6,
.leaflet-container p {
  font-size:15px line-height:25px;
  margin:0 0 10px;
  }
.leaflet-container input,
.leaflet-container textarea,
.leaflet-container small {
  font-size:12px;
  line-height:20px;
  }

.leaflet-container a            { color:#3887BE; text-decoration:none; }
.leaflet-container a:hover      { color:#63b6e5; }
.leaflet-container.dark a       { color:#63b6e5; }
.leaflet-container.dark a:hover { color:#8fcaec; }

.leaflet-container.dark .mapbox-button,
.leaflet-container .mapbox-button {
  background-color:#3887be;
  display:inline-block;
  height:40px;
  line-height:40px;
  text-decoration:none;
  color:#fff;
  font-size:12px;
  }
  .leaflet-container.dark .mapbox-button:hover,
  .leaflet-container .mapbox-button:hover {
    color:#fff;
    background-color:#3bb2d0;
    }

.mapbox-icon,
.mapbox-button-icon:before {
  content:'';
  display:inline-block;
  width:30px;
  height:30px;
  vertical-align:middle;
  }

/* Base Leaflet
------------------------------------------------------- */
.leaflet-map-pane,
.leaflet-tile,
.leaflet-marker-icon,
.leaflet-marker-shadow,
.leaflet-tile-pane,
.leaflet-tile-container,
.leaflet-overlay-pane,
.leaflet-shadow-pane,
.leaflet-marker-pane,
.leaflet-popup-pane,
.leaflet-overlay-pane svg,
.leaflet-zoom-box,
.leaflet-image-layer,
.leaflet-layer {
  position:absolute;
  left:0;
  top:0;
  }

.leaflet-tile,
.leaflet-marker-icon,
.leaflet-marker-shadow {
  -webkit-user-drag:none;
  -webkit-user-select:none;
     -moz-user-select:none;
          user-select:none;
  }
.leaflet-marker-icon,
.leaflet-marker-shadow {
  display: block;
  }

.leaflet-tile {
  filter:inherit;
  visibility:hidden;
  }
.leaflet-tile-loaded {
  visibility:inherit;
  }
.leaflet-zoom-box {
  width:0;
  height:0;
  }

.leaflet-tile-pane    { z-index:2; }
.leaflet-objects-pane { z-index:3; }
.leaflet-overlay-pane { z-index:4; }
.leaflet-shadow-pane  { z-index:5; }
.leaflet-marker-pane  { z-index:6; }
.leaflet-popup-pane   { z-index:7; }

.leaflet-control {
  position:relative;
  z-index:7;
  pointer-events:auto;
  float:left;
  clear:both;
  }
  .leaflet-right .leaflet-control   { float:right; }
  .leaflet-top .leaflet-control     { margin-top:10px; }
  .leaflet-bottom .leaflet-control  { margin-bottom:10px; }
  .leaflet-left .leaflet-control    { margin-left:10px; }
  .leaflet-right .leaflet-control   { margin-right:10px; }

.leaflet-top,
.leaflet-bottom {
  position:absolute;
  z-index:1000;
  pointer-events:none;
  }
  .leaflet-top    { top:0; }
  .leaflet-right  { right:0; }
  .leaflet-bottom { bottom:0; }
  .leaflet-left   { left:0; }

/* zoom and fade animations */
.leaflet-fade-anim .leaflet-tile,
.leaflet-fade-anim .leaflet-popup {
  opacity:0;
  -webkit-transition:opacity 0.2s linear;
     -moz-transition:opacity 0.2s linear;
       -o-transition:opacity 0.2s linear;
          transition:opacity 0.2s linear;
  }
  .leaflet-fade-anim .leaflet-tile-loaded,
  .leaflet-fade-anim .leaflet-map-pane .leaflet-popup {
    opacity:1;
    }

.leaflet-zoom-anim .leaflet-zoom-animated {
  -webkit-transition:-webkit-transform 0.25s cubic-bezier(0,0,0.25,1);
     -moz-transition:   -moz-transform 0.25s cubic-bezier(0,0,0.25,1);
       -o-transition:     -o-transform 0.25s cubic-bezier(0,0,0.25,1);
          transition:        transform 0.25s cubic-bezier(0,0,0.25,1);
  }
.leaflet-zoom-anim .leaflet-tile,
.leaflet-pan-anim .leaflet-tile,
.leaflet-touching .leaflet-zoom-animated {
  -webkit-transition:none;
     -moz-transition:none;
       -o-transition:none;
          transition:none;
  }
.leaflet-zoom-anim .leaflet-zoom-hide { visibility: hidden; }

/* cursors */
.leaflet-clickable {
  cursor: pointer;
  }
.leaflet-popup-pane,
.leaflet-control {
  cursor:auto;
  }
.leaflet-container {
  cursor:-webkit-grab;
  cursor:   -moz-grab;
  }
.leaflet-dragging,
.leaflet-dragging .leaflet-clickable,
.leaflet-dragging .leaflet-container {
  cursor:move;
  cursor:-webkit-grabbing;
  cursor:   -moz-grabbing;
  }

.leaflet-zoom-box {
  background:#fff;
  border:2px dotted #202020;
  opacity:0.5;
  }

/* general toolbar styles */
.leaflet-bar {
  background-color:#fff;
  border:1px solid #bbb;
  border-color:rgba(0,0,0,0.25);
  -webkit-border-radius:3px;
          border-radius:3px;
  }
.leaflet-bar a {
  width:30px;
  height:30px;
  line-height:30px;
  display:block;
  }
.leaflet-bar a,
.leaflet-bar a:hover {
  color:404040;
  color:rgba(0,0,0,0.75);
  border-bottom:1px solid #ddd;
  border-color:rgba(0,0,0,0.10);
  }
  .leaflet-bar a:active,
  .leaflet-control .mapbox-button:hover,
  .leaflet-control .mapbox-button:active {
    background-color:#f8f8f8;
    cursor:pointer;
    }
  .leaflet-bar a:first-child {
    -webkit-border-radius:3px 3px 0 0;
            border-radius:3px 3px 0 0;
    }
  .leaflet-bar a:last-child {
    border-bottom:none;
    -webkit-border-radius:0 0 3px 3px;
            border-radius:0 0 3px 3px;
    }

.leaflet-bar .leaflet-disabled {
  cursor:default;
  opacity:0.75;
  }
.leaflet-control-zoom-in,
.leaflet-control-zoom-out {
  display:block;
  content:'';
  text-indent:-999em;
  }

/* layers control */
.leaflet-control-layers-toggle {
  background-image:url(images/layers.png);
  width:36px;
  height:36px;
  }
.leaflet-retina .leaflet-control-layers-toggle {
  background-image:url(images/layers-2x.png);
  background-size:26px 26px;
  }
.leaflet-control-layers .leaflet-control-layers-list,
.leaflet-control-layers-expanded .leaflet-control-layers-toggle {
  display:none;
  }
.leaflet-control-layers-expanded .leaflet-control-layers-list {
  display:block;
  position:relative;
  }
.leaflet-control-layers-expanded {
  background:#fff;
  padding:6px 10px 6px 6px;
  color:#404040;
  color:rgba(0,0,0,0.75);
  }
.leaflet-control-layers-selector {
  margin-top:2px;
  position:relative;
  top:1px;
  }
.leaflet-control-layers label {
  display: block;
  }
.leaflet-control-layers-separator {
  height:0;
  border-top:1px solid #ddd;
  margin:5px -10px 5px -6px;
  }

.leaflet-container .leaflet-control-attribution {
  background-color:rgba(255,255,255,0.25);
  margin:0;
  }
.leaflet-control-attribution,
.leaflet-control-scale-line {
  padding:0 5px;
  }
.leaflet-control-attribution,
.leaflet-control-scale {
  font-size:12px;
  line-height:20px;
  }
  .leaflet-left .leaflet-control-scale    { margin-left:5px; }
  .leaflet-bottom .leaflet-control-scale  { margin-bottom:5px; }

.leaflet-control-scale-line {
  background-color:rgba(255,255,255,0.5);
  border:2px solid #ddd;
  border-color:rgba(0,0,0,0.10);
  border-top:none;
  padding:2px 5px 1px;
  white-space:nowrap;
  overflow:hidden;
  }
  .leaflet-control-scale-line:not(:first-child) {
    border-top:2px solid #ddd;
    border-color:rgba(0,0,0,0.10);
    border-bottom:none;
    margin-top:-2px;
    }
  .leaflet-control-scale-line:not(:first-child):not(:last-child) {
    border-bottom:2px solid #777;
    }

/* popup */
.leaflet-popup {
  position:absolute;
  text-align:center;
  pointer-events:none;
  }
.leaflet-popup-content-wrapper {
  padding:1px;
  text-align:left;
  pointer-events:all;
  }
.leaflet-popup-content {
  padding:10px 10px 15px;
  }
.leaflet-popup-tip-container {
  width:20px;
  height:20px;
  margin:0 auto;
  position:relative;
  }
.leaflet-popup-tip {
  background:#fff;
  width:15px;
  height:15px;
  margin:-8px auto 0;
  -webkit-box-shadow:0 1px 2px rgba(0,0,0,0.15);
          box-shadow:0 1px 2px rgba(0,0,0,0.15);
  -webkit-transform:rotate(45deg);
     -moz-transform:rotate(45deg);
      -ms-transform:rotate(45deg);
       -o-transform:rotate(45deg);
          transform:rotate(45deg);
  }
.leaflet-popup-content-wrapper, .leaflet-popup-tip {
  background:#fff;
  box-shadow:0 0 20px 0 rgba(0,0,0,0.05);
  }
.leaflet-popup-close-button {
  display:block;
  content:'';
  text-indent:-999em;
  position:absolute;
  top:0;right:0;
  width:30px;
  height:30px;
  pointer-events:all;
  }
  .leaflet-popup-close-button:hover {
    background-color:#f8f8f8;
    }

.leaflet-popup-scrolled {
  overflow:auto;
  border-bottom:1px solid #ddd;
  border-top:1px solid #ddd;
  }

/* div icon */
.leaflet-div-icon {
  background:#fff;
  border:1px solid #bbb;
  border-color:rgba(0,0,0,0.25);
  }
.leaflet-editing-icon {
  -webkit-border-radius:3px;
          border-radius:3px;
  }

/* Leaflet + MapBox
------------------------------------------------------- */
.leaflet-control-zoom-in,
.leaflet-control-zoom-out,
.leaflet-popup-close-button,
.mapbox-icon {
  background:transparent url(./images/icons-404040.png) no-repeat 0 0;
  background-size:30px 240px;
  }
  .mapbox-button-icon:before,
  .leaflet-container.dark .leaflet-control-zoom-in,
  .leaflet-container.dark .leaflet-control-zoom-out,
  .leaflet-container.dark .leaflet-control a {
    background-image:url(./images/icons-FFFFFF.png);
    background-size:30px 240px;
    }
  .leaflet-control-zoom-in      { background-position:0 0; }
  .leaflet-control-zoom-out     { background-position:0 -30px; }
  .leaflet-popup-close-button   { background-position:0 -60px; }
  .mapbox-icon-share:before, .mapbox-icon-share         { background-position:0 -90px; }
  .mapbox-icon-geocoder:before, .mapbox-icon-geocoder   { background-position:0 -120px; }
  .mapbox-icon-facebook:before, .mapbox-icon-facebook   { background-position:0 -150px; }
  .mapbox-icon-twitter:before, .mapbox-icon-twitter     { background-position:0 -180px; }
  .mapbox-icon-pinterest:before, .mapbox-icon-pinterest { background-position:0 -210px; }

@media
  only screen and (-webkit-min-device-pixel-ratio:2),
  only screen and (min-device-pixel-ratio:2) {
    .leaflet-control-zoom-in,
    .leaflet-control-zoom-out,
    .leaflet-popup-close-button,
    .mapbox-icon {
      background:transparent url(./images/icons-404040@2x.png) no-repeat 0 0;
      }
    .mapbox-button-icon:before,
    .leaflet-container.dark .leaflet-control-zoom-in,
    .leaflet-container.dark .leaflet-control-zoom-out,
    .leaflet-container.dark .leaflet-popup-close-button,
    .leaflet-container.dark .mapbox-icon {
      background-image:url(./images/icons-FFFFFF@2x.png);
      }
}

.leaflet-control-layers,
.leaflet-popup-content-wrapper,
.mapbox-share-popup,
.map-legends,
.map-tooltip {
  background:#fff;
  -webkit-box-shadow:0 1px 2px rgba(0,0,0,0.10);
          box-shadow:0 1px 2px rgba(0,0,0,0.10);
  -webkit-border-radius:3px;
          border-radius:3px;
  }
.leaflet-control-layers,
.mapbox-share-popup,
.map-legends,
.map-tooltip {
  border:1px solid #bbb;
  border-color:rgba(0,0,0,0.25)
  }

.map-legends .map-legend {
  padding:10px;
  }

.map-tooltip {
  z-index:999999;
  padding:10px;
  opacity:1;

  min-width:180px;
  max-width:280px;
  max-height:400px;

  overflow:auto;
  width:220px\8; /*< IE 9*/

  -webkit-transition:opacity 150ms;
     -moz-transition:opacity 150ms;
       -o-transition:opacity 150ms;
          transition:opacity 150ms;
  }

.map-tooltip .close {
  background:transparent url(./icon-404040.png) no-repeat 0 0;
  background-size:30px 240px;
  text-indent:-999em;
  overflow:hidden;
  display:none;
  }
  .map-tooltip.closable .close {
    position:absolute;
    top:0;
    right:0;
    width:30px;
    height:30px;
    display:block;
    -webkit-border-radius:3px;
            border-radius:3px;
    }
    .map-tooltip.closable .close:active  {
      border-color:#bbb;
      border-color:rgba(0,0,0,0.25);
      background-color:#f8f8f8;
      }

.leaflet-control-interaction {
  position:absolute;
  top:10px;
  right:10px;
  width:300px;
  }
.leaflet-popup-content .marker-title {
  font-weight:bold;
  line-height:2em;
  }
.leaflet-control .mapbox-button {
  background-color:#fff;
  border:1px solid #ddd;
  border-color:rgba(0,0,0,0.10);
  padding:5px 10px;
  -webkit-border-radius:3px;
          border-radius:3px;
  }

.leaflet-popup a,
.map-tooltip a,
.map-legend a {
  color:#489;
  text-decoration:none;
  }

/* Share modal
------------------------------------------------------- */
.mapbox-share-popup {
  padding:20px;
  z-index:1000;
  }
.mapbox-share-buttons {
  margin:0 0 20px;
  }
.mapbox-share-buttons a {
  width:33.3333%;
  border-left:1px solid #fff;
  text-align:center;
  -webkit-border-radius:0;
          border-radius:0;
  }
  .mapbox-share-buttons a:last-child {
    -webkit-border-radius:0 3px 3px 0;
            border-radius:0 3px 3px 0;
    }
  .mapbox-share-buttons a:first-child {
    border:none;
    -webkit-border-radius:3px 0 0 3px;
            border-radius:3px 0 0 3px;
    }

.mapbox-share-popup fieldset {
  position:relative;
  border:none;
  padding:0;margin:0;
  }
.mapbox-share-popup fieldset span {
  position:absolute;
  top:5px;
  left:5px;
  }
.mapbox-share-popup input {
  width:100%;
  height:40px;
  padding:10px;
  border:1px solid #ddd;
  border-color:rgba(0,0,0,0.10);
  }

/* Geocoder
------------------------------------------------------- */
.leaflet-control-mapbox-geocoder {
  position:relative;
  }
.leaflet-control-mapbox-geocoder.searching:before {
  background:#cccccc;
  background:rgba(224,224,224,0.5);
  content:'';
  position:absolute;
  left:0;
  top:0;
  right:0;
  bottom:0;
  z-index:100;
  }
.leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-wrap {
  background:#fff;
  position:absolute;
  border:1px solid #bbb;
  border-color:rgba(0,0,0,0.25);
  overflow:hidden;
  left:30px;
  width:0;
  height:32px;
  top:-1px;
  opacity:0;
  -webkit-transition:opacity 100ms;
     -moz-transition:opacity 100ms;
       -o-transition:opacity 100ms;
          transition:opacity 100ms;
  -webkit-border-radius:0 3px 3px 0;
          border-radius:0 3px 3px 0;
  }
.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-wrap {
  width:180px;
  opacity:1;
  }
.leaflet-bar .leaflet-control-mapbox-geocoder-toggle,
.leaflet-bar .leaflet-control-mapbox-geocoder-toggle:hover {
  border-bottom:none;
  }
.leaflet-control-mapbox-geocoder-toggle {
  -webkit-border-radius:3px;
          border-radius:3px;
  }
.leaflet-control-mapbox-geocoder.active,
.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-toggle {
  -webkit-border-top-right-radius:0;
          border-top-right-radius:0;
  -webkit-border-bottom-right-radius:0;
          border-bottom-right-radius:0;
  }
.leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-form input {
  background:transparent;
  border:0;
  width:180px;
  padding:0 0 0 10px;
  height:30px;
  outline:none;
  }
.leaflet-control-mapbox-geocoder .mapbox-geocoder-toggle {
  position:absolute;
  top:0;
  left:0;
  }
.leaflet-control-mapbox-geocoder input:focus {
  border-color:#888;
  }
.leaflet-control-mapbox-geocoder-results {
  background:#fff;
  width:180px;
  position:absolute;
  left:30px;
  top:30px;
  }
.leaflet-control-mapbox-geocoder-results a,
.leaflet-control-mapbox-geocoder-results span,
.leaflet-control-mapbox-geocoder-results a:hover {
  padding:0 10px;
  text-overflow:ellipsis;
  border:1px solid #ddd;
  border-color:#ddd #bbb;
  border-color:rgba(0,0,0,0.10) rgba(0,0,0,0.25);
  border-top:0;
  white-space:nowrap;
  display:block;
  width:100%;
  font-size:12px;
  line-height:30px;
  text-align:left;
  overflow:hidden;
  }
  .leaflet-control-mapbox-geocoder-results a:hover {
    background:#f8f8f8;
    }
  .leaflet-control-mapbox-geocoder-results span:last-child {
    border-bottom-color:#bbb;
    border-bottom-color:rgba(0,0,0,0.25);
    }

/* Dark Theme
------------------------------------------------------- */
.leaflet-container.dark .leaflet-bar {
  background-color:#404040;
  border-color:#202020;
  border-color:rgba(0,0,0,0.75);
  color:#fff;
  }
  .leaflet-container.dark .leaflet-bar a {
    border-color:#202020;
    border-color:rgba(0,0,0,0.75);
    }
  .leaflet-container.dark .leaflet-bar a:hover,
  .leaflet-container.dark .leaflet-control .mapbox-button:hover,
  .leaflet-container.dark .leaflet-bar a:active,
  .leaflet-container.dark .leaflet-control .mapbox-button:active {
    background-color:transparent;
    opacity:0.5;
    }

.leaflet-container.dark .leaflet-control-attribution {
  background-color:rgba(0,0,0,0.25);
  }
.leaflet-container.dark .leaflet-bar a.leaflet-disabled,
.leaflet-container.dark .leaflet-control .mapbox-button.disabled {
  background-color:#252525;
  color:#404040;
  }
.leaflet-container.dark .leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-wrap {
  border-color:#202020;
  border-color:rgba(0,0,0,0.75);
  }

/* Browser Fixes
------------------------------------------------------- */
/* Map is broken in FF if you have max-width: 100% on tiles */
.leaflet-container img { max-width: none !important; }
/* Stupid Android 2 doesn't understand "max-width: none" properly */
.leaflet-container img.leaflet-image-layer { max-width:15000px!important; }
/* Android chrome makes tiles disappear without this */
.leaflet-tile-container img { -webkit-backface-visibility: hidden; }
/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */
.leaflet-overlay-pane svg { -moz-user-select: none; }
