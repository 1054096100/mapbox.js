<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'/>
  <link rel="stylesheet" href="../lib/leaflet/dist/leaflet.css"/>
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="../lib/leaflet/dist/leaflet.ie.css"/>
  <![endif]-->
  <link rel="stylesheet" href="embed.css"/>
  <script src="../lib/leaflet/dist/leaflet-src.js"></script>
  <script src="../src/mapbox.js"></script>
  <script src="../src/markers.js"></script>
  <script src="../src/layer.js"></script>
</head>
<body>
<div id='map'></div>
<script type='text/javascript'>
var map = L.map('map')
    .setView([38.8995, -77.0203], 12)
    .addLayer(new L.TileLayer.MapBox({ id: 'tmcw.map-5hafkxww' } ));

var geoJson = {
    type: 'FeatureCollection',
    features: [{
        type: 'Feature',
        properties: {
            title: 'foo',
            'marker-color': '#f00',
            'marker-size': 'large'
        },
        geometry: {
            type: 'Point',
            coordinates: [-77.0203, 38.8995]
        }
    }]
};

L.geoJson(geoJson, {
    pointToLayer: mapbox.markers.style,
    onEachFeature: function(feature, layer) {
        layer.bindPopup(feature.properties.title);
    }
}).addTo(map);

// L.geoJson(geoJson, {
//     onEachFeature: function(feature, layer) {
//         layer.bindPopup(feature.properties.title);
//     }
// }).addTo(map);
</script>
</body>
</html>
