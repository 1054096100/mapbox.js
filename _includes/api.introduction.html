<div class='row6 contain hide-mobile'>
  <div id='example-map' class='pin-bottom pin-top round-top'></div>
  <div id='example-snippet' class='pin-bottom margin3 row3 col6'>
    <div class='clip row3 fill-light pad2x'>
{% highlight html %}
<script>
// Create a map in the div #map
L.mapbox.map('map', 'username.mapid');
</script>
{% endhighlight html %}
    </div>
  </div>
</div>
<div class='pad2 prose round-bottom keyline-all fill-white space-bottom contain center'>
  <h2 class='space-bottom1'>
  Build anything with Mapbox.js,<br/>
  a library for fast & interactive maps.
  </h2>
  <div class='clearfix'>
    <div class='col4 pad1 center'>
      <span class='small-graphic dot fill-green inline pad1 dark space-bottom1'>
        <span class='icon big leaflet'></span>
      </span>
      <div class='col12'>
        <strong>Built on top of <a href='http://leafletjs.com/'>Leaflet</a></strong>, an open source library.
      </div>
    </div>

    <div class='col4 pad1 center'>
      <span class='small-graphic dot fill-blue inline pad1 dark space-bottom1'>
        <span class='icon big github'></span>
      </span>
      <div class='col12'>
        <strong>Open source</strong> and available on <a href='https://github.com/mapbox/mapbox.js/'>GitHub</a>.
      </div>
    </div>

    <div class='col4 pad1 center'>
      <span class='small-graphic dot fill-purple inline pad1 dark space-bottom1'>
        <span class='icon big check'></span>
      </span>
      <div class='col12'>
        <strong>Browser tested</strong> with IE8+ and all <a href='http://browsehappy.com/'>modern browsers</a>.
      </div>
    </div>
  </div>
</div>

<script>L.mapbox.map('example-map', 'examples.map-vyofok3q', { scrollWheelZoom: false, center: [40.70, -73.98], zoom: 14 });</script>
<style>
#example-snippet {
  box-shadow: rgba(0,0,0,0.1) 0px 0px 10px 5px;
}
#example-snippet:before,
#example-snippet:after {
  content:'';
  display:block;
  position:absolute;
}
#example-snippet:before {
  left:20px; right:0px;
  top:-20px; height:20px;
  background:#f8f8f8;
}
#example-snippet:after {
  width:0px; height:0px;
  border-width:10px;
  border-color:transparent #e8e8e8 #e8e8e8 transparent;
  border-style:solid;
  position:absolute;
  left:0px; top:-20px;
}
#example-snippet .highlight { width:200%; }
</style>

<h2>Getting started with Mapbox.js</h2>

<p>Include the Mapbox.js Javascript library and CSS stylesheet in your HTML header.</p>

{% highlight html %}
<script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.css' rel='stylesheet' />
{% endhighlight html %}

<p>Then create a map on your page in a <code>&lt;div&gt;</code> element with an <code>id</code> attribute.</p>

{% highlight html %}
<script>
L.mapbox.map('map', 'username.mapid');
</script>
{% endhighlight html %}


<h2>Reading this documentation</h2>

<p>The documentation is organized by <em>methods</em>. Each method
is shown with potential arguments along with its type and description in a table.
When the API has a Javascript constructor function that returns an object, the constructor
is documented with its full name and the methods on the object are named with just
the type of the object. For instance, <code>L.mapbox.markerLayer</code> documents a function that
returns a layer for markers. The methods on that object are then documented as
<code>markerLayer.setFilter</code>, <code>markerLayer.getGeoJSON</code>, and so on.</p>

<div class='note'>
<p>To use this API, you&#39;ll need to understand basic Javascript and mapping concepts.
If you&#39;d like to learn Javascript, start with <a href='http://www.codecademy.com/tracks/javascript'>an interactive course</a>, or
<a href='http://eloquentjavascript.net/'>book</a>.
If you&#39;d like to learn more about maps, <a href='http://mapbox.com/developers/guide/'>we&#39;ve provided a helpful article explaining how web maps work</a>.</p>
</div>

<h3 id='the-ready-event'>The `ready` event</h3>
<p>Mapbox.js is <a href='http://recurial.com/programming/understanding-callback-functions-in-javascript/'>asynchronous</a> - when you create a layer like <code>L.mapbox.tileLayer('{{site.defaultid}}')</code>, the layer doesn&#39;t immediately know which tiles to load and its attribution information. Instead, it loads the information in an <a href='http://en.wikipedia.org/wiki/AJAX'>AJAX</a> call.</p>

<p>For most things you&#39;ll write, this isn&#39;t a problem, since Mapbox.js does a good
job of handling these on-the-fly updates. If you&#39;re writing code that needs
to know when layers and other dynamically-loaded objects are ready, you can
use the <code>ready</code> event to listen for their ready state. For instance:</p>

{% highlight javascript %}
var layer = L.mapbox.tileLayer('{{site.defaultid}}');
layer.on('ready', function() {
  // the layer has been fully loaded now, and you can
  // call .getTileJSON and investigate its properties
});
{% endhighlight %}

<p>Similarly, dynamically-loaded objects produce an `error` event if something
goes wrong:</p>

{% highlight javascript %}
var layer = L.mapbox.tileLayer('{{site.defaultid}}');
layer.on('error', function(err) {
  // Handle error
});
{% endhighlight %}
