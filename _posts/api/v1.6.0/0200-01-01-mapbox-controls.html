---
layout: api
title: "v1.6.0 API: Controls"
categories: api
version: v1.6.0
permalink: /api/v1.6.0/mapbox-controls
---
{% raw %}<h1 id="controls">Controls</h1>
<h2 id="l-mapbox-infocontrol-options-">L.mapbox.infoControl(options)</h2>
<p>A map control that shows a toggleable info container. This is triggered by default and attribution is auto-detected from active layers and added to the info container.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options <em>optional</em></td>
<td>object</td>
<td>An options object. Beyond the default options for map controls, this object has a two additional parameters: <ul><li><code>editLink</code>: A boolean that adds an <code>Improve this map</code> link to your map allowing users to make edits to OpenStreetMap from the current map coordinates being viewed.</li><li><code>sanitizer</code>: A function that accepts a string, and returns a sanitized result for HTML display. The default will remove dangerous script content, and is recommended.</li></ul></td>
</tr>
</tbody>
</table>
<p><em>Example</em>:</p>
<pre><code>var map = L.mapbox.map(&#39;map&#39;).setView([38, -77], 5);
map.addControl(L.mapbox.infoControl());</code></pre>
<p><em>Returns</em>: a <code>L.mapbox.infoControl</code> object.</p>
<h3 id="infocontrol-addinfo-info-">infoControl.addInfo(info)</h3>
<p>Adds an info string to infoControl.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>info <em>required</em></td>
<td>string</td>
<td>A string which may contain HTML. It will be sanitized by the infoControl&#39;s sanitizer option.</td>
</tr>
</tbody>
</table>
<h3 id="infocontrol-removeinfo-info-">infoControl.removeInfo(info)</h3>
<p>Removes an info string from infoControl.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>info <em>required</em></td>
<td>string</td>
<td>Info to remove.</td>
</tr>
</tbody>
</table>
<h2 id="l-mapbox-legendcontrol-options-">L.mapbox.legendControl(options)</h2>
<p>A map control that shows legends added to maps in Mapbox. Legends are auto-detected from active layers.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options <em>optional</em></td>
<td>object</td>
<td>An options object. Beyond the default options for map controls, this object has one special parameter: <code>sanitizer</code>: A function that accepts a string, and returns a sanitized result for HTML display. The default will remove dangerous script content, and is recommended.</td>
</tr>
</tbody>
</table>
<p><em>Example</em>:</p>
<pre><code>var map = L.mapbox.map(&#39;map&#39;).setView([38, -77], 5);
map.addControl(L.mapbox.legendControl());</code></pre>
<p><em>Returns</em>: a <code>L.mapbox.legendControl</code> object.</p>
<h3 id="legendcontrol-addlegend-legend-">legendControl.addLegend(legend)</h3>
<p>Adds a legend to the legendControl.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>legend <em>required</em></td>
<td>string</td>
<td>A string which may contain HTML. It will be sanitized by the legendControl&#39;s sanitizer option.</td>
</tr>
</tbody>
</table>
<h3 id="legendcontrol-removelegend-legend-">legendControl.removeLegend(legend)</h3>
<p>Removes a legend from the legendControl.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>legend <em>required</em></td>
<td>string</td>
<td>legend data to remove.</td>
</tr>
</tbody>
</table>
<h2 id="l-mapbox-gridcontrol-layer-options-">L.mapbox.gridControl(layer, options)</h2>
<p>Interaction is what we call interactive parts of maps that are created with the powerful <a href="http://mapbox.com/tilemill/docs/crashcourse/tooltips/">tooltips &amp; regions</a> system in <a href="http://mapbox.com/tilemill/">TileMill</a>. Under the hood, it&#39;s powered by the open <a href="https://github.com/mapbox/utfgrid-spec/">UTFGrid specification</a>.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>layer</td>
<td>L.mapbox.gridLayer</td>
<td>The first argument must be a layer created with <code>L.mapbox.gridLayer()</code></td>
</tr>
<tr>
<td>options</td>
<td>object</td>
<td>Valid options are:<ul><li><code>sanitizer</code>: A function that accepts a string containing interactivity data, and returns a sanitized result for HTML display. The default will remove dangerous script content, and is recommended.</li><li><code>template</code>: A string in the Mustache template language that will be evaluated with data from the grid to produce HTML for the interaction.</li><li><code>follow</code>: Whether the tooltip should follow the mouse in a constant relative position, or should be fixed in the top-right side of the map. By default, this is <code>false</code> and the tooltip is stationary.</li><li><code>pinnable</code>: Whether clicking will &#39;pin&#39; the tooltip open and expose a &#39;close&#39; button for the user to close the tooltip. By default, this is <code>true</code>.</li><li><code>touchTeaser</code>: On touch devices, show the teaser formatter if there is no output from the full formatter. By default, this is <code>true</code>.</li><li><code>location</code>: Evaluate the location formatter on click events, and if it provides output, navigate to that location. By default, this is <code>true</code>.</li></ul></td>
</tr>
</tbody>
</table>
<p><em>Example</em>:</p>
<pre><code>var map = L.mapbox.map(&#39;map&#39;).setView([38, -77], 5);
var gridLayer = L.mapbox.gridLayer(&#39;examples.map-8ced9urs&#39;);
map.addLayer(L.mapbox.tileLayer(&#39;examples.map-8ced9urs&#39;));
map.addLayer(gridLayer);
map.addControl(L.mapbox.gridControl(gridLayer));</code></pre>
<p><em>Returns</em>: a <code>L.mapbox.gridControl</code> object.</p>
<h3 id="gridcontrol-hide-">gridControl.hide()</h3>
<p>If a tooltip is currently shown by the gridControl, hide and close it.</p>
<p><em>Returns</em>: the <code>L.mapbox.gridControl</code> object.</p>
<h3 id="gridcontrol-settemplate-template-">gridControl.setTemplate(template)</h3>
<p>Change the <a href="http://mustache.github.io/">Mustache template</a> used to transform
the UTFGrid data in the map&#39;s interactivity into HTML for display.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>template</td>
<td>string</td>
<td>A string of Mustache template code for popups.</td>
</tr>
</tbody>
</table>
<p><em>Returns</em>: the <code>L.mapbox.gridControl</code> object.</p>
<h2 id="l-mapbox-geocodercontrol-id-url-options-">L.mapbox.geocoderControl(id|url, options)</h2>
<p>Adds geocoder functionality as well as a UI element to a map. This uses
the <a href="http://mapbox.com/developers/api/#geocoding">Mapbox Geocoding API</a>.</p>
<div class='note warning'>
This function is currently in private beta: <a href='http://mapbox.com/about/contact/'>Contact Mapbox</a> before using this functionality.
</div>

<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id <em>or</em> url (<em>required</em>)</td>
<td>string</td>
<td>Either a <ul><li>An <code>id</code> string <code>examples.map-foo</code></li><li>A URL to TileJSON, like <code>http://a.tiles.mapbox.com/v3/examples.map-0l53fhk2.json</code></li></ul></td>
</tr>
<tr>
<td>options</td>
<td>object</td>
<td>An options argument with the same options as the <code>L.Control class</code>, as well as: <ul><li><code>keepOpen</code>: a boolean for whether the control will stay open always rather than being toggled. Default <code>false</code>.<li></ul></td>
</tr>
</tbody>
</table>
<p><em>Example</em>:</p>
<pre><code>var map = L.map(&#39;map&#39;)
    .setView([37, -77], 5)
    .addControl(L.mapbox.geocoderControl(&#39;examples.map-vyofok3q&#39;));</code></pre>
<p><em>Returns</em> a <code>L.mapbox.geocoderControl</code> object.</p>
<h3 id="geocodercontrol-seturl-url-">geocoderControl.setURL(url)</h3>
<p>Set the url used for geocoding.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>string</td>
<td>A geocoding url</td>
</tr>
</tbody>
</table>
<p><em>Returns</em>: the geocoder control object</p>
<h3 id="geocodercontrol-setid-id-">geocoderControl.setID(id)</h3>
<p>Set the map id used for geocoding.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>A map id to geocode from</td>
</tr>
</tbody>
</table>
<p><em>Returns</em>: the geocoder control object</p>
<h3 id="geocodercontrol-settilejson-tilejson-">geocoderControl.setTileJSON(tilejson)</h3>
<p>Set the TileJSON used for geocoding.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tilejson</td>
<td>object</td>
<td>A TileJSON object</td>
</tr>
</tbody>
</table>
<p><em>Returns</em>: the geocoder object</p>
<h3 id="geocodercontrol-on-event-callback-">geocoderControl.on(event, callback)</h3>
<p>Bind a listener to an event emitted by the geocoder control. Supported additional events are</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event</td>
<td>string</td>
<td><ul><li><code>found</code>: success in finding a location. Called with a single argument, the result.</li><li><code>error</code>: failure to find a location. Called with the raw HTTP error from Mapbox.</li></ul></td>
</tr>
</tbody>
</table>
<h2 id="l-mapbox-sharecontrol-id-url-options-">L.mapbox.shareControl(id|url, options)</h2>
<p>Adds a &quot;Share&quot; button to the map, which can be used to share the map to Twitter or Facebook, or generate HTML for a map embed.</p>
<p><span class='leaflet'><em>Extends</em>: <a href="http://leafletjs.com/reference.html#control">L.Control</a></span></p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id <em>or</em> url <em>optional</em></td>
<td>string</td>
<td>Either a <ul><li><code>id</code> string <code>examples.map-foo</code></li><li>A URL to TileJSON, like <code><a href="https://a.tiles.mapbox.com/v3/examples.map-0l53fhk2.json">https://a.tiles.mapbox.com/v3/examples.map-0l53fhk2.json</a></code> If not supplied, the TileJSON from the map is used.</li></ul></td>
</tr>
<tr>
<td>options</td>
<td>object</td>
<td>Options for <a href="http://leafletjs.com/reference.html#control">L.Control</a></span> Also accepts the following options:<ul><li>url: the <code>URL</code> of a page to which the share control will link instead of the URL of the current page or that specified in TileJSON data.</li></ul></td>
</tr>
</tbody>
</table>
<p><em>Example</em>:</p>
<pre><code>var map = L.map(&#39;map&#39;, &#39;examples.map-vyofok3q&#39;)
    .setView([37, -77], 5)
    .addControl(L.mapbox.shareControl());</code></pre>
<p><em>Returns</em>:
Returns a <code>L.mapbox.shareControl</code> object.</p>
{% endraw %}
